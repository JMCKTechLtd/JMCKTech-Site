<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Lab 33: Entra ID - Add User to Group</title>
<style>
* { box-sizing: border-box; margin: 0; padding: 0; }
html, body { height: 100%; }
body { background-color: #1e1e1e; padding: 20px; overflow: hidden; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; color: #111; }
.task-instructions {
  background: linear-gradient(135deg, #e3f2fd 0%, #f1f8e9 100%);
  border: 1px solid #90caf9; border-radius: 8px; padding: 14px 16px; margin: 0 0 14px 0;
  position: sticky; top: 0; z-index: 1000;
}
.task-instructions .task-title {
  font-weight: 600; color: #ffffff; background: linear-gradient(135deg, #0078d4 0%, #005a9e 100%);
  padding: 8px 12px; border-radius: 6px; display: inline-block; margin-bottom: 8px;
}
.task-instructions .task-description { color: #1e1e1e; line-height: 1.45; }
.task-instructions ol { margin: 8px 0 0 20px; }
.lab-container {
  width: 1400px; height: 800px; margin: 0 auto;
  background: #ffffff; border-radius: 8px; box-shadow: 0 8px 32px rgba(0,0,0,0.3);
  overflow: hidden; position: relative;
}
.azure-header {
  height: 48px; background: #0078d4; color: white; display: flex; align-items: center;
  padding: 0 20px; font-weight: 500; border-bottom: 1px solid #005a9e;
  font-size: 14px;
}
.azure-header .logo { margin-right: 16px; font-size: 16px; font-weight: 600; }
.azure-header .nav-items { display: flex; gap: 24px; margin-left: 40px; }
.azure-header .nav-item { opacity: 0.9; cursor: pointer; padding: 4px 8px; border-radius: 3px; }
.azure-header .nav-item:hover { background: rgba(255,255,255,0.1); }
.azure-header .search { margin-left: auto; background: rgba(255,255,255,0.2); border: none; 
  padding: 6px 12px; border-radius: 4px; color: white; width: 280px; font-size: 13px; }
.azure-header .search::placeholder { color: rgba(255,255,255,0.7); }
.azure-header .user-menu { margin-left: 20px; display: flex; align-items: center; gap: 8px; cursor: pointer; }

.azure-nav {
  width: 220px; height: calc(100% - 48px); background: #f8f9fa; border-right: 1px solid #dee2e6;
  overflow-y: auto; padding: 12px 0; font-size: 13px;
}
.nav-section { padding: 8px 16px; color: #6c757d; font-size: 11px; font-weight: 600; text-transform: uppercase; margin-top: 12px; }
.nav-item {
  padding: 8px 16px 8px 20px; cursor: pointer; font-size: 13px; color: #495057;
  border-left: 3px solid transparent; transition: all 0.2s ease; display: flex; align-items: center;
}
.nav-item:hover { background: #e9ecef; }
.nav-item.active { background: #e3f2fd; color: #0078d4; border-left-color: #0078d4; font-weight: 500; }
.nav-item .icon { margin-right: 12px; width: 16px; display: inline-block; }
.nav-item .chevron { margin-left: auto; font-size: 10px; opacity: 0.6; }

.main-content {
  position: absolute; left: 220px; top: 48px; right: 0; bottom: 0;
  background: white; overflow: auto; display: flex; flex-direction: column;
}
.content-header {
  padding: 16px 24px; border-bottom: 1px solid #dee2e6; background: #fafbfc;
  display: flex; justify-content: between; align-items: center;
}
.content-title { font-size: 20px; font-weight: 600; margin-bottom: 2px; }
.content-subtitle { color: #6c757d; font-size: 13px; }
.breadcrumb { font-size: 12px; color: #6c757d; margin-bottom: 8px; }
.breadcrumb span { cursor: pointer; }
.breadcrumb span:hover { color: #0078d4; }
.breadcrumb .separator { margin: 0 6px; }

.overview-cards {
  display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; padding: 20px 24px;
  border-bottom: 1px solid #dee2e6;
}
.card {
  background: white; border: 1px solid #dee2e6; border-radius: 6px; padding: 16px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}
.card .value { font-size: 24px; font-weight: 600; color: #0078d4; }
.card .label { font-size: 12px; color: #6c757d; margin-top: 4px; }

.management-header {
  padding: 16px 24px; display: flex; justify-content: space-between; align-items: center;
  border-bottom: 1px solid #dee2e6;
}
.management-title { font-size: 18px; font-weight: 600; }
.management-actions { display: flex; gap: 8px; }
.quick-stats { display: flex; gap: 24px; padding: 12px 24px; background: #f8f9fa; border-bottom: 1px solid #dee2e6; }
.stat { font-size: 13px; }
.stat .value { font-weight: 600; color: #0078d4; }

.user-list { padding: 16px 24px; flex: 1; }
.user-table {
  width: 100%; border-collapse: collapse; background: white; border-radius: 6px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1); overflow: hidden; font-size: 13px;
}
.user-table th {
  background: #f8f9fa; padding: 10px 12px; text-align: left; font-weight: 600;
  border-bottom: 1px solid #dee2e6; color: #495057; font-size: 12px;
}
.user-table td {
  padding: 10px 12px; border-bottom: 1px solid #f1f3f4; font-size: 13px;
}
.user-table tbody tr:hover { background: #f8f9fa; }
.user-table tbody tr { cursor: pointer; transition: background 0.2s ease; }
.status-badge {
  display: inline-block; padding: 3px 8px; border-radius: 10px; font-size: 11px;
  font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;
}
.status-active { background: #d4edda; color: #155724; }
.status-unlicensed { background: #fff3cd; color: #856404; }
.status-blocked { background: #f8d7da; color: #721c24; }
.search-box { margin-bottom: 16px; position: relative; display: flex; gap: 12px; }
.search-box input {
  width: 300px; padding: 6px 12px 6px 32px; border: 1px solid #ced4da;
  border-radius: 4px; font-size: 13px;
}
.search-box::before {
  content: "üîç"; position: absolute; left: 10px; top: 50%; transform: translateY(-50%);
  color: #6c757d; font-size: 12px;
}
.filter-btn { padding: 6px 12px; border: 1px solid #ced4da; border-radius: 4px; background: white; cursor: pointer; font-size: 13px; }

.user-detail {
  position: absolute; left: 220px; top: 48px; right: 0; bottom: 0;
  background: white; display: none; z-index: 100; flex-direction: column;
}
.detail-header {
  padding: 16px 24px; border-bottom: 1px solid #dee2e6; background: #fafbfc;
  display: flex; align-items: center; gap: 16px;
}
.detail-title { font-size: 20px; font-weight: 600; }
.back-btn {
  padding: 6px 12px; border: 1px solid #ced4da; border-radius: 4px;
  background: white; cursor: pointer; font-size: 13px; color: #495057;
}
.back-btn:hover { background: #f8f9fa; }
.detail-tabs { display: flex; border-bottom: 1px solid #dee2e6; background: #fafbfc; font-size: 13px; }
.tab {
  padding: 10px 20px; cursor: pointer; border-bottom: 2px solid transparent;
  font-weight: 500; color: #6c757d; transition: all 0.2s ease;
}
.tab.active { color: #0078d4; border-bottom-color: #0078d4; }
.tab:hover:not(.active) { color: #495057; }
.tab-content { padding: 20px 24px; flex: 1; overflow: auto; }
.section {
  background: white; border: 1px solid #dee2e6; border-radius: 6px;
  padding: 16px; margin-bottom: 16px;
}
.section h3 { font-size: 15px; margin-bottom: 12px; color: #323130; }
.btn { padding: 6px 12px; border: 1px solid #ced4da; border-radius: 4px;
  background: white; cursor: pointer; font-size: 13px; }
.btn-primary { background: #0078d4; color: white; border-color: #0078d4; }
.btn-primary:hover { background: #106ebe; }
.btn-outline { border: 1px solid #0078d4; color: #0078d4; background: white; }
.btn-outline:hover { background: #e3f2fd; }
.toggle { display: inline-flex; align-items: center; gap: 8px; }
.success-toast {
  position: fixed; bottom: 20px; right: 20px; background: #d4edda;
  color: #155724; padding: 12px 16px; border-radius: 6px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15); display: none;
  border-left: 4px solid #28a745; font-size: 13px;
}
.loading {
  display: inline-block; width: 16px; height: 16px; border: 2px solid #f3f3f3;
  border-top: 2px solid #0078d4; border-radius: 50%; animation: spin 1s linear infinite;
}
@keyframes spin { to { transform: rotate(360deg); } }
.badge { display:inline-block; padding:3px 8px; border-radius:10px; font-size:11px; background:#eef2ff; color:#1f3a93; }
.badge-secondary { background: #e9ecef; color: #495057; }

.modal {
  position: fixed; inset: 0; background: rgba(0,0,0,0.5);
  display: none; align-items: center; justify-content: center; z-index: 1000;
}
.modal-card {
  background: white; border-radius: 6px; box-shadow: 0 8px 32px rgba(0,0,0,0.2);
  width: 600px; max-height: 70vh; overflow: auto;
}
.modal-header { padding: 16px 20px; border-bottom: 1px solid #dee2e6; font-weight: 600; font-size: 15px; }
.modal-body { padding: 16px 20px; }
.modal-footer { padding: 12px 20px; border-top: 1px solid #dee2e6; display: flex; gap: 8px; justify-content: flex-end; }
.input, .select { width: 100%; padding: 6px 12px; border: 1px solid #ced4da; border-radius: 4px; font-size: 13px; }
.label { display:block; margin: 0 0 6px 0; font-weight: 500; color: #495057; font-size: 13px; }
.list { border:1px solid #e5e7eb; border-radius:4px; }
.list-item { display:flex; align-items:center; justify-content:space-between; padding:8px 12px; border-bottom:1px solid #f1f5f9; font-size: 13px; }
.list-item:last-child { border-bottom:none; }
.pagination { display: flex; justify-content: space-between; align-items: center; padding: 12px 24px; border-top: 1px solid #dee2e6; background: #fafbfc; }
.pagination-info { font-size: 12px; color: #6c757d; }
.pagination-controls { display: flex; gap: 8px; }
.pagination-btn { padding: 4px 8px; border: 1px solid #ced4da; background: white; border-radius: 3px; cursor: pointer; font-size: 12px; }

.property-grid { display: grid; grid-template-columns: 180px 1fr; gap: 8px 16px; font-size: 13px; }
.property-label { color: #6c757d; text-align: right; }
.property-value { color: #323130; }

.member-count { color: #6c757d; font-size: 12px; margin-left: 8px; }
</style>
</head>
<body>
<div class="task-instructions">
  <div class="task-title">Lab: Entra ID - Add User to Group</div>
  <div class="task-description">
  <strong>Goal:</strong> Add <strong>Jane Smith</strong> to the <strong>Marketing Team</strong> group.
  <ol>
    <li>Click <strong>Azure Active Directory</strong> in the left navigation.</li>
    <li>Open <strong>Jane Smith</strong>'s user profile.</li>
    <li>Go to the <strong>Groups</strong> tab.</li>
    <li>Click <strong>+ Add to group</strong>.</li>
    <li>Select <strong>Marketing Team</strong> and click <strong>Add</strong>.</li>
    <li>Verify the membership appears in the list and the success toast is shown.</li>
  </ol>
  </div>
</div>
<div class="lab-container">
  
  <div class="azure-header">
    <div class="logo">Microsoft Azure</div>
    <div class="nav-items">
      <div class="nav-item">Create a resource</div>
      <div class="nav-item">Home</div>
      <div class="nav-item">Dashboard</div>
      <div class="nav-item">All services</div>
    </div>
    <input class="search" placeholder="Search resources, services, and docs">
    <div class="user-menu">
      <span>Admin User</span>
      <span>‚ñº</span>
    </div>
  </div>

  <div class="azure-nav">
    <div class="nav-item active"><span class="icon">üè†</span>Home</div>
    
    <div class="nav-section">Manage</div>
    <div class="nav-item"><span class="icon">üìä</span>Dashboard</div>
    <div class="nav-item"><span class="icon">üí∞</span>Cost Management</div>
    <div class="nav-item"><span class="icon">üîê</span>Security Center</div>
    <div class="nav-item"><span class="icon">üìà</span>Advisor</div>
    
    <div class="nav-section">Azure Services</div>
    <div class="nav-item"><span class="icon">üíæ</span>Storage accounts</div>
    <div class="nav-item"><span class="icon">üñ•Ô∏è</span>Virtual machines</div>
    <div class="nav-item"><span class="icon">üåê</span>App Services</div>
    <div class="nav-item"><span class="icon">üóÉÔ∏è</span>SQL databases</div>
    
    <div class="nav-section">Identity</div>
    <div class="nav-item" id="aadNav"><span class="icon">üë•</span>Azure Active Directory</div>
    <div class="nav-item"><span class="icon">üîë</span>Conditional Access</div>
    <div class="nav-item"><span class="icon">üì±</span>App registrations</div>
    <div class="nav-item"><span class="icon">üè¢</span>Enterprise applications</div>
    <div class="nav-item"><span class="icon">üëë</span>Roles and administrators</div>
  </div>

  <div class="main-content" id="mainContent">
    <div class="content-header">
      <div>
        <div class="breadcrumb">
          <span>Microsoft Azure</span> <span class="separator">></span>
          <span>Azure Active Directory</span> <span class="separator">></span>
          <span>Contoso</span>
        </div>
        <div class="content-title">Contoso - Overview</div>
        <div class="content-subtitle">Azure Active Directory | Default Directory</div>
      </div>
      <div class="management-actions">
        <button class="btn btn-outline">Refresh</button>
        <button class="btn btn-primary">Add user</button>
      </div>
    </div>

    <div class="overview-cards">
      <div class="card">
        <div class="value">247</div>
        <div class="label">Total users</div>
      </div>
      <div class="card">
        <div class="value">58</div>
        <div class="label">Groups</div>
      </div>
      <div class="card">
        <div class="value">12</div>
        <div class="label">Application registrations</div>
      </div>
      <div class="card">
        <div class="value">3</div>
        <div class="label">Conditional Access policies</div>
      </div>
    </div>

    <div class="management-header">
      <div class="management-title">All users</div>
      <div class="management-actions">
        <button class="btn btn-outline">Bulk operations</button>
        <button class="btn btn-outline">Download</button>
        <button class="btn">Refresh</button>
      </div>
    </div>

    <div class="quick-stats">
      <div class="stat"><span class="value">234</span> Active users</div>
      <div class="stat"><span class="value">8</span> Guest users</div>
      <div class="stat"><span class="value">5</span> Users with errors</div>
    </div>

    <div class="user-list">
      <div class="search-box">
        <input type="text" placeholder="Search by name or email" id="userSearch">
        <button class="filter-btn">Filters</button>
        <button class="btn btn-outline">Columns</button>
      </div>
      <table class="user-table">
        <thead>
          <tr>
            <th>Display Name</th>
            <th>User Principal Name</th>
            <th>Job Title</th>
            <th>Department</th>
            <th>Status</th>
            <th>Assigned Plans</th>
          </tr>
        </thead>
        <tbody id="userTableBody">
          <tr data-user="jane.smith">
            <td>Jane Smith</td>
            <td>jane.smith@contoso.com</td>
            <td>Marketing Specialist</td>
            <td>Marketing</td>
            <td><span class="status-badge status-active">Active</span></td>
            <td>Office 365 E3</td>
          </tr>
          <tr data-user="mike.sales">
            <td>Mike Johnson</td>
            <td>mike.johnson@contoso.com</td>
            <td>Sales Manager</td>
            <td>Sales</td>
            <td><span class="status-badge status-active">Active</span></td>
            <td>Office 365 E3</td>
          </tr>
          <tr data-user="sarah.hr">
            <td>Sarah Chen</td>
            <td>sarah.chen@contoso.com</td>
            <td>HR Director</td>
            <td>Human Resources</td>
            <td><span class="status-badge status-active">Active</span></td>
            <td>Office 365 E5</td>
          </tr>
          <tr data-user="bob.dev">
            <td>Bob Wilson</td>
            <td>bob.wilson@contoso.com</td>
            <td>Senior Developer</td>
            <td>Engineering</td>
            <td><span class="status-badge status-active">Active</span></td>
            <td>Visual Studio Enterprise</td>
          </tr>
          <tr data-user="tom.guest">
            <td>Tom Reynolds (Guest)</td>
            <td>tom@partnercompany.com</td>
            <td>Consultant</td>
            <td>External</td>
            <td><span class="status-badge status-active">Active</span></td>
            <td>None</td>
          </tr>
        </tbody>
      </table>
      <div class="pagination">
        <div class="pagination-info">1-5 of 247 items</div>
        <div class="pagination-controls">
          <button class="pagination-btn">Previous</button>
          <button class="pagination-btn">1</button>
          <button class="pagination-btn">2</button>
          <button class="pagination-btn">3</button>
          <button class="pagination-btn">...</button>
          <button class="pagination-btn">50</button>
          <button class="pagination-btn">Next</button>
        </div>
      </div>
    </div>
  </div>

  <div class="user-detail" id="userDetail">
    <div class="detail-header">
      <button class="back-btn" id="backBtn">‚Üê Back to users</button>
      <div class="detail-title">Jane Smith</div>
      <div style="margin-left: auto; display: flex; gap: 8px;">
        <button class="btn btn-outline">Reset password</button>
        <button class="btn btn-outline">Delete user</button>
        <button class="btn">Manage</button>
      </div>
    </div>
    <div class="detail-tabs">
      <div class="tab active" data-tab="profile">Profile</div>
      <div class="tab" data-tab="groups">Groups</div>
      <div class="tab" data-tab="devices">Devices</div>
      <div class="tab" data-tab="licenses">Licenses</div>
      <div class="tab" data-tab="authentication">Authentication</div>
    </div>
    <div class="tab-content">
      <div id="profileTab" class="tab-panel">
        <div class="section">
          <h3>Identity</h3>
          <div class="property-grid">
            <div class="property-label">Display name</div>
            <div class="property-value">Jane Smith</div>
            
            <div class="property-label">User ID</div>
            <div class="property-value">a1b2c3d4-e5f6-7890-abcd-ef1234567890</div>
            
            <div class="property-label">User principal name</div>
            <div class="property-value">jane.smith@contoso.com</div>
            
            <div class="property-label">Object ID</div>
            <div class="property-value">b2c3d4e5-f6g7-8901-bcde-f23456789012</div>
          </div>
        </div>
        
        <div class="section">
          <h3>Job information</h3>
          <div class="property-grid">
            <div class="property-label">Job title</div>
            <div class="property-value">Marketing Specialist</div>
            
            <div class="property-label">Department</div>
            <div class="property-value">Marketing</div>
            
            <div class="property-label">Manager</div>
            <div class="property-value">Lisa Marketing (lisa.marketing@contoso.com)</div>
          </div>
        </div>
        
        <div class="section">
          <h3>Contact information</h3>
          <div class="property-grid">
            <div class="property-label">Office location</div>
            <div class="property-value">Seattle</div>
            
            <div class="property-label">Mobile phone</div>
            <div class="property-value">+1 (555) 123-4567</div>
          </div>
        </div>
      </div>
      
      <div id="groupsTab" class="tab-panel" style="display:none;">
        <div class="section">
          <div style="display:flex; align-items:center; justify-content:space-between; margin:0 0 16px 0;">
            <div>
              <h3>Group memberships (2)</h3>
              <p style="color:#6c757d; margin-top:4px; font-size:13px;">Direct and transitive group memberships</p>
            </div>
            <button class="btn btn-primary" id="addGroupBtn">+ Add to group</button>
          </div>
          
          <div class="search-box" style="margin-bottom: 16px;">
            <input type="text" placeholder="Search groups" id="groupListSearch">
          </div>
          
          <div id="groupList" class="list">
            <div class="list-item">
              <div>
                <strong>All Employees</strong>
                <div style="font-size:11px;color:#6c757d; margin-top:2px;">Security group ‚Ä¢ 247 members</div>
              </div>
              <span class="badge badge-secondary">Direct</span>
            </div>
            <div class="list-item">
              <div>
                <strong>Marketing Department</strong>
                <div style="font-size:11px;color:#6c757d; margin-top:2px;">Microsoft 365 group ‚Ä¢ 24 members</div>
              </div>
              <span class="badge">Transitive</span>
            </div>
          </div>
        </div>
      </div>
      
      <div id="devicesTab" class="tab-panel" style="display:none;">
        <div class="section">
          <h3>Registered devices</h3>
          <p style="color:#6c757d; font-size:13px;">No devices registered to this user.</p>
        </div>
      </div>
      
      <div id="licensesTab" class="tab-panel" style="display:none;">
        <div class="section">
          <h3>Assigned licenses</h3>
          <div class="list">
            <div class="list-item">
              <div>
                <strong>Office 365 E3</strong>
                <div style="font-size:11px;color:#6c757d; margin-top:2px;">Microsoft 365 Apps, Exchange Online, SharePoint Online</div>
              </div>
              <span class="status-badge status-active">Assigned</span>
            </div>
          </div>
        </div>
      </div>
      
      <div id="authenticationTab" class="tab-panel" style="display:none;">
        <div class="section">
          <h3>Authentication methods</h3>
          <p style="color:#6c757d; font-size:13px;">No additional authentication methods configured.</p>
        </div>
      </div>
    </div>
  </div>

  <div class="modal" id="groupModal">
    <div class="modal-card">
      <div class="modal-header">Add Jane Smith to groups</div>
      <div class="modal-body">
        <label class="label" for="groupSearch">Search groups</label>
        <input id="groupSearch" class="input" placeholder="Type to filter groups">
        <div class="list" style="margin-top:12px; max-height: 300px; overflow-y: auto;" id="groupPickList">
          <div class="list-item" data-group="Marketing Team">
            <div>
              <strong>Marketing Team</strong>
              <div style="font-size:11px;color:#6c757d; margin-top:2px;">Security group ‚Ä¢ 15 members</div>
            </div>
            <input type="checkbox">
          </div>
          <div class="list-item" data-group="Sales All">
            <div>
              <strong>Sales All</strong>
              <div style="font-size:11px;color:#6c757d; margin-top:2px;">Microsoft 365 group ‚Ä¢ 42 members</div>
            </div>
            <input type="checkbox">
          </div>
          <div class="list-item" data-group="All Staff">
            <div>
              <strong>All Staff</strong>
              <div style="font-size:11px;color:#6c757d; margin-top:2px;">Security group ‚Ä¢ 247 members</div>
            </div>
            <input type="checkbox">
          </div>
          <div class="list-item" data-group="Project Phoenix">
            <div>
              <strong>Project Phoenix</strong>
              <div style="font-size:11px;color:#6c757d; margin-top:2px;">Security group ‚Ä¢ 8 members</div>
            </div>
            <input type="checkbox">
          </div>
          <div class="list-item" data-group="Intune Enrolled">
            <div>
              <strong>Intune Enrolled</strong>
              <div style="font-size:11px;color:#6c757d; margin-top:2px;">Dynamic device group ‚Ä¢ 89 members</div>
            </div>
            <input type="checkbox" disabled>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn" id="cancelGroup">Cancel</button>
        <button class="btn btn-primary" id="confirmGroup" disabled>Add</button>
      </div>
    </div>
  </div>

  <div class="success-toast" id="successToast">‚úÖ Successfully added user to group</div>
</div>
<script>
// Navigation
document.getElementById('aadNav').addEventListener('click', () => {
  document.getElementById('userDetail').style.display = 'none';
  document.getElementById('mainContent').style.display = 'flex';
});

// Search functionality
document.getElementById('userSearch').addEventListener('input', (e) => {
  const term = e.target.value.toLowerCase();
  document.querySelectorAll('#userTableBody tr').forEach(row => {
    const name = row.children[0].textContent.toLowerCase();
    const upn = row.children[1].textContent.toLowerCase();
    row.style.display = (name.includes(term) || upn.includes(term)) ? '' : 'none';
  });
});

// Open user detail (all users now clickable for realism)
document.getElementById('userTableBody').addEventListener('click', (e) => {
  const row = e.target.closest('tr');
  if (!row) return;
  
  const username = row.getAttribute('data-user');
  if (username === 'jane.smith') {
    document.getElementById('mainContent').style.display = 'none';
    document.getElementById('userDetail').style.display = 'flex';
  } else {
    // For other users, show a realistic message
    toast('This lab focuses on Jane Smith. Please select Jane Smith to complete the task.');
  }
});

// Tabs
document.addEventListener('click', (e) => {
  if (e.target.classList.contains('tab')) {
    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
    e.target.classList.add('active');
    const tabId = e.target.getAttribute('data-tab');
    document.querySelectorAll('.tab-panel').forEach(p => p.style.display='none');
    document.getElementById(tabId + 'Tab').style.display = 'block';
  }
});

function toast(msg) {
  const t = document.getElementById('successToast');
  t.textContent = '‚úÖ ' + msg;
  t.style.display = 'block';
  setTimeout(() => t.style.display = 'none', 3500);
}

document.getElementById('backBtn').addEventListener('click', () => {
  document.getElementById('userDetail').style.display = 'none';
  document.getElementById('mainContent').style.display = 'flex';
});

// Group management
document.getElementById('addGroupBtn').addEventListener('click', () => {
  document.getElementById('groupModal').style.display = 'flex';
});

document.getElementById('cancelGroup').addEventListener('click', () => {
  document.getElementById('groupModal').style.display = 'none';
  document.querySelectorAll('#groupPickList input[type="checkbox"]').forEach(cb => cb.checked = false);
  document.getElementById('confirmGroup').disabled = true;
});

document.getElementById('groupSearch').addEventListener('input', (e) => {
  const term = e.target.value.toLowerCase();
  document.querySelectorAll('#groupPickList .list-item').forEach(item => {
    const name = item.getAttribute('data-group').toLowerCase();
    item.style.display = name.includes(term) ? '' : 'none';
  });
});

document.querySelectorAll('#groupPickList input[type="checkbox"]').forEach(cb => {
  cb.addEventListener('change', () => {
    const any = Array.from(document.querySelectorAll('#groupPickList input[type="checkbox"]:not(:disabled)')).some(x => x.checked);
    document.getElementById('confirmGroup').disabled = !any;
  });
});

document.getElementById('confirmGroup').addEventListener('click', () => {
  const selected = Array.from(document.querySelectorAll('#groupPickList .list-item')).filter(i => i.querySelector('input[type="checkbox"]').checked);
  const list = document.getElementById('groupList');
  
  selected.forEach(item => {
    const name = item.getAttribute('data-group');
    // Check if already in list
    const existing = Array.from(list.querySelectorAll('.list-item strong')).some(el => el.textContent === name);
    if (!existing) {
      const row = document.createElement('div');
      row.className = 'list-item';
      row.innerHTML = `
        <div>
          <strong>${name}</strong>
          <div style="font-size:11px;color:#6c757d; margin-top:2px;">Security group ‚Ä¢ 15 members</div>
        </div>
        <span class="badge">Direct</span>
      `;
      list.appendChild(row);
    }
  });
  
  // Update group count
  const groupCount = list.querySelectorAll('.list-item').length;
  document.querySelector('#groupsTab h3').textContent = `Group memberships (${groupCount})`;
  
  document.getElementById('groupModal').style.display = 'none';
  document.querySelectorAll('#groupPickList input[type="checkbox"]').forEach(cb => cb.checked = false);
  document.getElementById('confirmGroup').disabled = true;
  
  toast('Successfully added user to selected group(s)');
});

// Group list search
document.getElementById('groupListSearch').addEventListener('input', (e) => {
  const term = e.target.value.toLowerCase();
  document.querySelectorAll('#groupList .list-item').forEach(item => {
    const name = item.querySelector('strong').textContent.toLowerCase();
    item.style.display = name.includes(term) ? '' : 'none';
  });
});
</script>
</body>
</html>