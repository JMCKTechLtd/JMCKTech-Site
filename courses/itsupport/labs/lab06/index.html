<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Lab 6: BIOS Boot Priority</title>
  <style>
    :root {
      --primary-color: #2e51bb;
      --success-color: #10b981;
      --bios-blue: #0066cc;
      --bios-text: #ffffff;
      --warning-color: #f59e0b;
    }
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Segoe UI', Tahoma, sans-serif;
      background: #f0f0f0;
      min-height: 100vh;
      padding: 20px;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .lab-container {
      width: 100%;
      max-width: 1200px;
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0,0,0,.1);
      overflow: hidden;
    }
    .lab-header {
      background: var(--primary-color);
      color: #fff;
      padding: 16px;
      text-align: center;
    }
    .lab-title {
      font-size: 24px;
      font-weight: 600;
      margin: 0;
    }
    .task-panel {
      background: #f8f9fa;
      border: 1px solid #dee2e6;
      padding: 16px;
      margin: 16px;
    }
    .task-title {
      font-size: 16px;
      font-weight: 600;
      color: var(--primary-color);
      margin-bottom: 8px;
    }
    .workspace {
      display: flex;
      gap: 16px;
      padding: 16px;
    }
    .main-area {
      flex: 1;
    }
    .sidebar {
      width: 280px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    
    .bios-screen {
      width: 100%;
      height: 500px;
      background: var(--bios-blue);
      color: var(--bios-text);
      padding: 20px;
      display: flex;
      flex-direction: column;
      font-family: 'Courier New', monospace;
      border: 3px solid #333;
    }
    .bios-header {
      border-bottom: 2px solid #fff;
      padding-bottom: 8px;
      margin-bottom: 12px;
      text-align: center;
    }
    .bios-title {
      font-size: 18px;
      color: #ff0;
      font-weight: bold;
    }
    .bios-content {
      flex: 1;
      display: flex;
      gap: 16px;
    }
    .bios-menu {
      width: 200px;
    }
    .menu-item {
      padding: 8px;
      border-radius: 4px;
      margin-bottom: 8px;
      background: rgba(255,255,255,.08);
      border: 1px solid rgba(255,255,255,.2);
      cursor: pointer;
    }
    .menu-item.active {
      background: #fff;
      color: #003a99;
      border-color: #fff;
      font-weight: bold;
    }
    .bios-info {
      flex: 1;
      background: rgba(255,255,255,.06);
      border-radius: 6px;
      border: 1px solid rgba(255,255,255,.25);
      padding: 12px;
    }
    .info-title {
      color: #ff0;
      font-weight: bold;
      margin-bottom: 8px;
    }
    .boot-priority-section {
      background: rgba(0,0,0,.25);
      border: 1px solid rgba(255,255,255,.35);
      border-radius: 6px;
      padding: 10px;
      margin-top: 10px;
    }
    .boot-list {
      list-style: none;
      margin: 0;
      padding: 0;
    }
    .boot-device {
      padding: 8px;
      margin: 4px 0;
      border-radius: 4px;
      background: rgba(255,255,255,.1);
      display: flex;
      gap: 10px;
      align-items: center;
    }
    .boot-device .idx {
      display: inline-block;
      width: 18px;
      text-align: right;
      font-weight: 600;
    }
    .boot-device.selected {
      background: #fff;
      color: #003a99;
      font-weight: bold;
    }
    
    .bios-controls {
      margin-top: 16px;
      padding-top: 12px;
      border-top: 1px solid rgba(255,255,255,.3);
    }
    .controls-row {
      display: flex;
      gap: 8px;
      justify-content: center;
      margin-bottom: 8px;
    }
    .key-button {
      padding: 6px 12px;
      background: #444;
      border: 1px solid #666;
      border-radius: 4px;
      color: #fff;
      cursor: pointer;
      user-select: none;
      font-size: 12px;
      min-width: 50px;
      text-align: center;
    }
    .key-button.special {
      background: #0b61d6;
      border-color: #0b61d6;
      font-weight: bold;
    }
    .key-button.enter {
      background: #0a7e2a;
      border-color: #0a7e2a;
      font-weight: bold;
    }
    .key-button.esc {
      background: #dc2626;
      border-color: #dc2626;
      font-weight: bold;
    }
    .key-button:hover {
      opacity: .8;
    }
    .key-button.pressed {
      outline: 2px solid #fff;
      transform: scale(0.95);
    }
    .instructions {
      text-align: center;
      font-size: 12px;
      opacity: .9;
      margin-top: 8px;
    }
    
    .panel {
      background: #fff;
      border: 1px solid #ddd;
      border-radius: 6px;
      padding: 12px;
    }
    .status-title {
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 8px;
    }
    .status-item {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 6px;
      margin-bottom: 4px;
      font-size: 13px;
    }
    .status-indicator {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      border: 2px solid #ccc;
    }
    .status-indicator.complete {
      background: var(--success-color);
      border-color: var(--success-color);
    }
    .hint {
      font-size: 13px;
      color: #8b5a00;
      background: #fff8e1;
      border: 1px solid #ffc107;
      border-radius: 4px;
      padding: 8px;
    }
    .hidden {
      display: none !important;
    }
    
    .lab-controls {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    .lab-button {
      background: var(--primary-color);
      color: #fff;
      border: none;
      padding: 8px 12px;
      border-radius: 4px;
      font-size: 13px;
      cursor: pointer;
      width: 100%;
      transition: background-color 0.2s ease;
    }
    .lab-button:hover {
      background: #1e40a0;
    }
    .lab-button.secondary {
      background: #6c757d;
      color: #fff;
    }
    .lab-button.secondary:hover {
      background: #5a6268;
    }
    
    .dialog-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.7);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    .bios-dialog {
      background: var(--bios-blue);
      color: var(--bios-text);
      border: 2px solid #fff;
      padding: 20px;
      border-radius: 6px;
      font-family: 'Courier New', monospace;
      min-width: 300px;
    }
    .dialog-title {
      color: #ff0;
      font-weight: bold;
      margin-bottom: 12px;
      text-align: center;
    }
    .dialog-message {
      margin-bottom: 16px;
      text-align: center;
    }
    .dialog-buttons {
      display: flex;
      gap: 12px;
      justify-content: center;
    }
    
    .keyboard-hint {
      text-align: center;
      font-size: 11px;
      color: #ccc;
      margin-top: 8px;
      font-style: italic;
    }
    
    .info-section {
      display: none;
    }
    .info-section.active {
      display: block;
    }
  </style>
</head>
<body>
<div class="lab-container">
  <div class="lab-header">
    <div class="lab-title">Lab 6: BIOS Boot Priority</div>
  </div>
  <div class="task-panel">
    <div class="task-title">ðŸ”§ Task</div>
    Navigate to <strong>Boot Settings</strong> in BIOS, set the <strong>Hard Drive</strong> as the first boot device using +/- keys, then press <strong>F10</strong> to save and exit.
  </div>
  <div class="workspace">
    <div class="main-area">
      <div class="bios-screen">
        <div class="bios-header">
          <div class="bios-title">ACME BIOS Setup Utility</div>
        </div>
        <div class="bios-content">
          <div class="bios-menu">
            <div class="menu-item active" data-target="system">System Information</div>
            <div class="menu-item" data-target="advanced">Advanced Settings</div>
            <div class="menu-item" data-target="boot">Boot Settings</div>
            <div class="menu-item" data-target="security">Security</div>
            <div class="menu-item" data-target="exit">Exit</div>
          </div>
          <div class="bios-info">
            <!-- System Information -->
            <div id="systemInfo" class="info-section active">
              <div class="info-title">System Information</div>
              <div>BIOS Version: ACME v2.15</div>
              <div>Processor: Intel Core i5-11400</div>
              <div>Memory: 16384 MB</div>
              <div>System Date: 12/01/2024</div>
            </div>
            
            <!-- Boot Settings -->
            <div id="bootInfo" class="info-section">
              <div class="info-title">Boot Device Priority</div>
              <div style="margin-bottom: 8px; font-size: 12px;">Use +/- keys to change boot order</div>
              <div class="boot-priority-section">
                <ul class="boot-list" id="bootList">
                  <!-- Boot devices will be rendered here -->
                </ul>
              </div>
            </div>
            
            <!-- Advanced Settings -->
            <div id="advancedInfo" class="info-section">
              <div class="info-title">Advanced Settings</div>
              <div>Virtualization Technology: [Enabled]</div>
              <div>CPU Configuration</div>
              <div>SATA Operation: [AHCI]</div>
            </div>
            
            <!-- Security -->
            <div id="securityInfo" class="info-section">
              <div class="info-title">Security Settings</div>
              <div>Administrator Password: [Not Set]</div>
              <div>Secure Boot: [Enabled]</div>
            </div>
            
            <!-- Exit -->
            <div id="exitInfo" class="info-section">
              <div class="info-title">Exit Options</div>
              <div>Save Changes and Exit</div>
              <div>Discard Changes and Exit</div>
              <div>Load Optimal Defaults</div>
            </div>
          </div>
        </div>
        <div class="bios-controls">
          <div class="controls-row">
            <div class="key-button esc" id="escKey">Esc</div>
            <div class="key-button" id="plusKey">+</div>
            <div class="key-button" id="minusKey">-</div>
            <div class="key-button special" id="f10Key">F10</div>
            <div class="key-button enter" id="enterKey">Enter</div>
            <div class="key-button" id="upKey">â†‘</div>
            <div class="key-button" id="downKey">â†“</div>
          </div>
          <div class="instructions">â†‘â†“ Navigate | +/- Change Priority | Enter Select | F10 Save | Esc Back</div>
          <div class="keyboard-hint">Physical keyboard also works - try it!</div>
        </div>
      </div>
    </div>
    <div class="sidebar">
      <div class="panel">
        <div class="status-title">Lab Progress</div>
        <div class="status-item">
          <div class="status-indicator" id="navDot"></div>
          Navigate to Boot Settings
        </div>
        <div class="status-item">
          <div class="status-indicator" id="prioDot"></div>
          Set Hard Drive first using +/-
        </div>
        <div class="status-item">
          <div class="status-indicator" id="saveDot"></div>
          Save with F10 and confirm
        </div>
      </div>
      <div class="panel hint hidden" id="hintPanel">
        Use â†‘/â†“ to navigate to Boot Settings, then use +/- to reorder devices.
      </div>
      <div class="panel hidden" id="donePanel">
        <b>ðŸŽ‰ Completed!</b> You successfully configured BIOS boot priority.
      </div>
      <div class="panel">
        <div class="lab-controls">
          <button class="lab-button secondary" id="resetLab" type="button">ðŸ”„ Reset Lab</button>
          <button class="lab-button" id="closeLab" type="button">Close Lab</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Save Confirmation Dialog -->
<div id="saveDialog" class="dialog-overlay hidden">
  <div class="bios-dialog">
    <div class="dialog-title">Save configuration changes and exit?</div>
    <div class="dialog-message">Changes have been made to boot order</div>
    <div class="dialog-buttons">
      <div class="key-button enter" id="confirmSave">OK</div>
      <div class="key-button esc" id="cancelSave">Cancel</div>
    </div>
  </div>
</div>

<script>
class BIOSLab {
  constructor() {
    this.bootOrder = ['USB Flash Drive', 'CD/DVD Drive', 'Hard Drive', 'Network Boot'];
    this.currentMenuIndex = 0;
    this.currentBootIndex = 0;
    this.inBootSection = false;
    this.hddIsFirst = false;
    this.saved = false;
    
    this.initialize();
  }

  initialize() {
    this.bindEvents();
    this.renderBootList();
    this.updateMenu();
  }

  bindEvents() {
    // Menu navigation
    document.getElementById('upKey').addEventListener('click', () => this.navigate(-1));
    document.getElementById('downKey').addEventListener('click', () => this.navigate(1));
    document.getElementById('enterKey').addEventListener('click', () => this.selectMenu());
    document.getElementById('escKey').addEventListener('click', () => this.goBack());
    
    // Boot priority controls
    document.getElementById('plusKey').addEventListener('click', () => this.changePriority(-1));
    document.getElementById('minusKey').addEventListener('click', () => this.changePriority(1));
    
    // Save controls
    document.getElementById('f10Key').addEventListener('click', () => this.showSaveDialog());
    document.getElementById('confirmSave').addEventListener('click', () => this.saveAndExit());
    document.getElementById('cancelSave').addEventListener('click', () => this.hideSaveDialog());
    
    // Lab controls
    document.getElementById('resetLab').addEventListener('click', () => this.resetLab());
    document.getElementById('closeLab').addEventListener('click', () => window.close());
    
    // Keyboard support
    document.addEventListener('keydown', (e) => this.handleKeyboard(e));
  }

  handleKeyboard(e) {
    if (document.getElementById('saveDialog').classList.contains('hidden')) {
      switch(e.key) {
        case 'ArrowUp': e.preventDefault(); this.navigate(-1); break;
        case 'ArrowDown': e.preventDefault(); this.navigate(1); break;
        case 'Enter': e.preventDefault(); this.selectMenu(); break;
        case 'Escape': e.preventDefault(); this.goBack(); break;
        case '+': case '=': e.preventDefault(); this.changePriority(-1); break;
        case '-': case '_': e.preventDefault(); this.changePriority(1); break;
        case 'F10': e.preventDefault(); this.showSaveDialog(); break;
      }
    } else {
      switch(e.key) {
        case 'Enter': e.preventDefault(); this.saveAndExit(); break;
        case 'Escape': e.preventDefault(); this.hideSaveDialog(); break;
      }
    }
  }

  navigate(direction) {
    if (this.inBootSection) {
      // Navigate boot list
      this.currentBootIndex = (this.currentBootIndex + direction + this.bootOrder.length) % this.bootOrder.length;
    } else {
      // Navigate main menu
      this.currentMenuIndex = (this.currentMenuIndex + direction + 5) % 5;
    }
    this.updateMenu();
  }

  updateMenu() {
    // Update menu highlights
    const menuItems = document.querySelectorAll('.menu-item');
    menuItems.forEach((item, index) => {
      item.classList.toggle('active', index === this.currentMenuIndex);
    });

    // Update info sections
    const sections = ['system', 'advanced', 'boot', 'security', 'exit'];
    document.querySelectorAll('.info-section').forEach(section => section.classList.remove('active'));
    document.getElementById(sections[this.currentMenuIndex] + 'Info').classList.add('active');

    if (this.inBootSection) {
      this.renderBootList();
    }
  }

  selectMenu() {
    if (this.currentMenuIndex === 2) { // Boot Settings
      this.inBootSection = true;
      this.currentBootIndex = 0;
      this.updateProgress();
      this.showHint('Use +/- keys to change boot priority. Move Hard Drive to first position.');
    }
  }

  goBack() {
    if (this.inBootSection) {
      this.inBootSection = false;
      this.updateMenu();
    }
  }

  changePriority(direction) {
    if (!this.inBootSection) return;

    const newIndex = this.currentBootIndex + direction;
    if (newIndex >= 0 && newIndex < this.bootOrder.length) {
      // Swap positions
      [this.bootOrder[this.currentBootIndex], this.bootOrder[newIndex]] = 
      [this.bootOrder[newIndex], this.bootOrder[this.currentBootIndex]];
      this.currentBootIndex = newIndex;
      
      // Check if Hard Drive is first
      this.hddIsFirst = this.bootOrder[0] === 'Hard Drive';
      if (this.hddIsFirst) {
        this.showHint('Hard Drive is now first! Press F10 to save.');
      }
      
      this.renderBootList();
      this.updateProgress();
    }
  }

  renderBootList() {
    const bootList = document.getElementById('bootList');
    bootList.innerHTML = '';
    
    this.bootOrder.forEach((device, index) => {
      const li = document.createElement('li');
      li.className = `boot-device ${this.inBootSection && index === this.currentBootIndex ? 'selected' : ''}`;
      li.innerHTML = `<span class="idx">${index + 1}.</span> ${device}`;
      bootList.appendChild(li);
    });
  }

  showSaveDialog() {
    if (!this.hddIsFirst) {
      this.showHint('Set Hard Drive as first boot device before saving.');
      return;
    }
    document.getElementById('saveDialog').classList.remove('hidden');
  }

  hideSaveDialog() {
    document.getElementById('saveDialog').classList.add('hidden');
  }

  saveAndExit() {
    this.saved = true;
    this.hideSaveDialog();
    this.updateProgress();
    document.getElementById('donePanel').classList.remove('hidden');
    this.showHint('Configuration saved successfully! Lab completed.');
  }

  updateProgress() {
    // Navigation complete
    if (this.inBootSection) {
      document.getElementById('navDot').classList.add('complete');
    }
    
    // Hard Drive first
    if (this.hddIsFirst) {
      document.getElementById('prioDot').classList.add('complete');
    }
    
    // Saved
    if (this.saved) {
      document.getElementById('saveDot').classList.add('complete');
    }
  }

  showHint(message) {
    const hintPanel = document.getElementById('hintPanel');
    hintPanel.innerHTML = message;
    hintPanel.classList.remove('hidden');
    
    clearTimeout(this.hintTimeout);
    this.hintTimeout = setTimeout(() => {
      hintPanel.classList.add('hidden');
    }, 4000);
  }

  resetLab() {
    this.bootOrder = ['USB Flash Drive', 'CD/DVD Drive', 'Hard Drive', 'Network Boot'];
    this.currentMenuIndex = 0;
    this.currentBootIndex = 0;
    this.inBootSection = false;
    this.hddIsFirst = false;
    this.saved = false;
    
    // Reset progress indicators
    document.querySelectorAll('.status-indicator').forEach(indicator => {
      indicator.classList.remove('complete');
    });
    
    // Reset UI
    document.getElementById('donePanel').classList.add('hidden');
    document.getElementById('hintPanel').classList.add('hidden');
    document.getElementById('saveDialog').classList.add('hidden');
    
    this.updateMenu();
    this.renderBootList();
    this.updateProgress();
    
    this.showHint('Lab reset. Navigate to Boot Settings to begin.');
  }
}

// Initialize the lab when page loads
document.addEventListener('DOMContentLoaded', () => {
  new BIOSLab();
});
</script>
</body>
</html>